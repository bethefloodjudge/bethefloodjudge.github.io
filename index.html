<!DOCTYPE HTML>
//
//    Copyright 2020 Stuart Mitchell (stuart.david.mitchell@gmail.com) and Reading University
//    This program is free software: you can redistribute it and/or modify
//    it under the terms of the GNU General Public License as published by
//    the Free Software Foundation, either version 3 of the License, or
//    (at your option) any later version.
//
//    This program is distributed in the hope that it will be useful,
//    but WITHOUT ANY WARRANTY; without even the implied warranty of
//    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//    GNU General Public License for more details.
//
//    You should have received a copy of the GNU General Public License
//    along with this program.  If not, see <https://www.gnu.org/licenses/>.
//
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Be the flood judge</title>
<style>
body {
	font-family:arial;
	background-image: url('images/background3.png');
}

.reelscontainer {
	margin:0 auto;
	float:right;
	width:900px;
}
	
.rescontainer {
	margin:0 auto;
	float:right;
	width:300px;
}

.expcontainer {
 	margin:0 auto;
        float:middle;
        width:500px;
}

.button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 20px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 20px;
  margin: 4px 2px;
  border-radius: 50%;
  cursor: pointer;
}
	
.button1 {
        float:left;
	background-color:#f44336;
}

.button2 {
        float:left;
	background-color:blue;
}
	
.button3 {
        float:left;
	background-color:brown;
}

.button3 {
	color: black;
	float:left;
	background-color:#e7e7e7;;
}	
	
.disclaim {
	font-size: 10px; color: black;
}
	
</style>

</head>
<body>
	<h1 style="color:white;text-align:center;">Be the flood judge</h1>
	<h3 style="color:white;text-align:center;">
		Click on <i><b>start</i></b> to spin the reels of ground, weather and river conditions.<br>
		Can you predict if the river will burst its banks and cause a flood ?<br>
		See where the reels stop and make your prediction by clicking on <i><b>FLOOD</i></b> or <i><b>NO FLOOD</i></b>.<br>
		The result reel will spin to show the actual outcome.<br>
		Maybe you were right, maybe not. Click on <i><b>why?</i></b> to discover why.<br>
	</h3>
	<table style"width:100%">
	<tr><td>
		<button class="button button1" onclick="playReels()">START</button>
	</td></tr>
	<tr><td>
		<video id="vid-reels" width=800 height=400 poster="images/poster-reels.jpg" type="video/mp4" > </video>
	</td></tr>
	<tr><td>		
		<button class="button button2" onclick="playRes()"  ><sp>FLOOD!<sp></button>
		<button class="button button3" onclick="playRes()"  >NO FLOOD</button>
		<video id="vid-res"   width=266 height=400 poster="images/poster-res.jpg" type="video/mp4"> </video>
	</td></tr>
	<tr><td>
		<button class="button button4" onclick="playExp()" >WHY?</button>
		<video width="640" height="480" id="vid-explain" poster="images/Flood-banner-3.jpg" type="video/mp4"> </video> 
	</td></tr>
	</table>

<div class="disclaim">
All reasonable care has been taken that information published on the Be the Flood Judge website is correct at the time of publishing. However, Be the Flood Judge the does not guarantee the accuracy of the information published on its website nor can it be held responsible for any errors or omissions.
Be the Flood Judge will not be held liable for any loss, damage or expense as a result of delays, variations or failure in the provision of services, facilities arising from circumstances beyond the Programme’s reasonable control, including, without limitation, any of the following: act of God, governmental act, industrial action, strikes, lockouts, fire, flood, earthquake, bad weather conditions, explosion, civil commotion, war, terrorist attack, technical failure, or power failure.
The website contains links to third party websites hosted by information providers who are not affiliated with the Programme. These links serve as a reference for further information and do not signify that the Programme endorses such websites or their content. The Programme cannot confirm the accuracy or reliability of any of the material contained in such third party websites nor shall it be held liable for any loss or damage suffered as a result of using third party sites or the information contained therein. Furthermore, the Programme does not make any representations or warranties as to the security of any information you may be requested to give to any third party.
</div>

<script>
	var reelsVid = document.getElementById("vid-reels");
	var resVid   = document.getElementById("vid-res");
	var expVid   = document.getElementById("vid-explain");
	
	var reelsSrc = document.createElement('source');
	var resSrc   = document.createElement('source');
	var expSrc   = document.createElement('source');

        var randreels=1;
	var reelsanim;
	var resanim;
	var outcomeanim;
	
	var ftt1 = 1; var ftt2 = 1; var ftt3 = 1; var numspins = 0;

	function playReels() {
                randreels = Math.round(Math.random()*27);
		numspins++; 
		// If fourth spin choose easteregg animation
		if (numspins == 4) { randreels=2; }
		reelsanim="videos/reels"+parseInt(randreels)+".mp4";
		resanim="videos/resreels1.mp4";
		// outcomes 1-5 == no flood
		// outcomes 6 - 12 == flood
		// outcomes 13 - 18 == ???
                switch (randreels) {
                case 1:
                  outcomeanim="videos/outcome11.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 2:
                  outcomeanim="videos/outcome09.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 3:
                  outcomeanim="videos/outcome08.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 4:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 5:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 6:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 7:
                  outcomeanim="videos/outcome08.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 8:
                  outcomeanim="videos/outcome17.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 9:
                  outcomeanim="videos/outcome18.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 10:
                  outcomeanim="videos/outcome12.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 11:
                  outcomeanim="videos/outcome15.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 12:
                  outcomeanim="videos/outcome18.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 13:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 14:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 15:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 16:
                  outcomeanim="videos/outcome13.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 17:
                  outcomeanim="videos/outcome03.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 18:
                  outcomeanim="videos/outcome05.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 19:
                  outcomeanim="videos/outcome07.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 20:
                  outcomeanim="videos/outcome15.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 21:
                  outcomeanim="videos/outcome06.mp4";resanim="videos/resreels1.mp4";
                  break;
                case 22:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 23:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 24:
                  outcomeanim="videos/outcome01.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 25:
                  outcomeanim="videos/outcome14.mp4";resanim="videos/resreels"+parseInt(Math.ceil(Math.random()*2))+".mp4";
                  break;
                case 26:
                  outcomeanim="videos/outcome02.mp4";resanim="videos/resreels2.mp4";
                  break;
                case 27:
                  outcomeanim="videos/outcome04.mp4";resanim="videos/resreels2.mp4";
                  break;
		}

		if (ftt1) { ftt1=0; reelsVid.appendChild(reelsSrc);}
		reelsSrc.setAttribute('src',reelsanim);
		reelsVid.load();
		reelsVid.play();
	}
	
	function playRes() {
		if (ftt2) { ftt2=0; resVid.appendChild(resSrc); }
		resSrc.setAttribute('src',resanim);
		resVid.load();
		resVid.play();
	}	

	function playExp() {
		if (ftt3) { ftt3=0; expVid.appendChild(expSrc); }
		expSrc.setAttribute('src',outcomeanim);
		expVid.load();
		expVid.play();
	}	
</script>

</body>
</html>
